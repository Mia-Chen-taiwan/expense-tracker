<form action="/records/{{ record._id }}?_method=PUT" method="POST">
<div class="container mt-5" style="width: 400px;">

  <div class="text-center">
    <h3 style="font-weight: bold;">編輯支出紀錄</h3>
  </div>

  <div class="form-group">
    <label>名稱 :</label>
    <input required class="form-control" style="display: inline;" type="text" name="name" value="{{ record.name }}">
  </div>

  <div class="form-group">
    <label>日期 :</label>
    <div id="datepicker" class="input-group date" data-date-format="mm-dd-yyyy">
    <input type="date" class="form-control new-date" id="date" name="date" placeholder="日期" value="{{ record.date }}"
      autocomplete="on" required>
  </div>

  <div class="form-group mt-3">
    <label>類別 :</label>
    <select class="form-control" name="category">
      <option value="{{ record.category }}">-{{ record.category }}-</option>
      {{#each categories}}
      <option value="{{ this.name }}">{{ this.name }}</option>
      {{/each}}
    </select>
  </div>

  <div class="form-group">
    <label>金額 :</label>
    <input required class="form-control" style="display: inline;" type="text" placeholder="NT$" name="amount" value="{{ record.amount }}">
  </div>

  <div class="text-center">
    <button type="submit" class="btn btn-success">儲存</button>
  </div>
</div>
</form>

<script>
  const dateValue = document.querySelector('.new-date')
  const now = new Date()
  dateValue.value = now.toISOString().slice(0, 10)
</script>